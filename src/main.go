package main

import (
	"bufio"
	"log"
	"os"
)

func main() {

	tr := &Trace{"demo", log.New(os.Stderr, "Logging - ", log.Ltime)}

	//Caba
	mapcaba := map[string]int{
		"1":646,"2":792,"3":933,"4":53,"5":986,"6":985,"7":989,"8":375,"9":834,"10":1127,"11":794,"12":2082,"13":979,"14":1080,"15":1334,"16":1282,"17":1005,"18":749,"19":393,"20":579,"21":939,"22":2373,"23":799}

	caba := City{"CABA", "0", mapcaba}
	printCity(caba, tr)

	//Córdoba
	mapcba := map[string]int{
		"0":646,"2":677,"3":824,"4":698,"5":340,"6":466,"7":907,"8":348,"9":919,"10":1321,"11":669,"12":2281,"13":362,"14":517,"15":809,"16":745,"17":412,"18":293,"19":330,"20":577,"21":401,"22":2618,"23":1047}

	cba := City{"Córdoba", "1", mapcba}
	printCity(cba, tr)

	//Corrientes
	mapcorr := map[string]int{
		"0":792,"1":677,"3":157,"4":830,"5":814,"6":1131,"7":1534,"8":500,"9":291,"10":1845,"11":13,"12":2819,"13":691,"14":633,"15":742,"16":719,"17":1039,"18":969,"19":498,"20":1136,"21":535,"22":3131,"23":1527}

	corr := City{"Corrientes", "2", mapcorr}
	printCity(corr, tr)

	//Formosa
	mapform := map[string]int{
		"0":933,"1":824,"2":157,"4":968,"5":927,"6":1269,"7":1690,"8":656,"9":263,"10":1999,"11":161,"12":2974,"13":793,"14":703,"15":750,"16":741,"17":1169,"18":1117,"19":654,"20":1293,"21":629,"22":3284,"23":1681}

	form := City{"Formosa", "3", mapform}
	printCity(form, tr)

	//La Plata
	maplp := map[string]int{
		"0":53,"1":698,"2":830,"3":968,"5":1038,"6":1029,"7":1005,"8":427,"9":857,"10":1116,"11":833,"12":2064,"13":1030,"14":1132,"15":1385,"16":1333,"17":1053,"18":795,"19":444,"20":602,"21":991,"22":2350,"23":789}

	lp := City{"La Plata", "4", maplp}
	printCity(lp, tr)

	//La Rioja
	maplr := map[string]int{
		"0":986,"1":340,"2":814,"3":927,"4":1038,"6":427,"7":1063,"8":659,"9":1098,"10":1548,"11":802,"12":2473,"13":149,"14":330,"15":600,"16":533,"17":283,"18":435,"19":640,"20":834,"21":311,"22":2821,"23":1311}

	lr := City{"La Rioja", "5", maplr}
	printCity(lr, tr)

	//Mendoza
	mapmend := map[string]int{
		"0":985,"1":466,"2":1131,"3":1269,"4":1029,"5":427,"7":676,"8":790,"9":1384,"10":1201,"11":1121,"12":2081,"13":569,"14":756,"15":1023,"16":957,"17":152,"18":235,"19":775,"20":586,"21":713,"22":2435,"23":1019}

	mend := City{"Mendoza", "6", mapmend}
	printCity(mend, tr)

	//Neuquén
	mapneu := map[string]int{
		"0":989,"1":907,"2":1534,"3":1690,"4":1005,"5":1063,"6":676,"8":1053,"9":1709,"10":543,"11":1529,"12":1410,"13":1182,"14":1370,"15":1658,"16":1591,"17":824,"18":643,"19":1049,"20":422,"21":1286,"22":1762,"23":479}

	neu := City{"Neuquén", "7", mapneu}
	printCity(neu, tr)

	//Paraná
	mappar := map[string]int{
		"0":375,"1":348,"2":500,"3":656,"4":427,"5":659,"6":790,"7":1053,"9":658,"10":1345,"11":498,"12":2320,"13":622,"14":707,"15":959,"16":906,"17":757,"18":574,"19":19,"20":642,"21":566,"22":2635,"23":1030}

	par := City{"Paraná", "8", mappar}
	printCity(par, tr)

	//Posadas
	mappos := map[string]int{
		"0":834,"1":919,"2":291,"3":263,"4":857,"5":1098,"6":1384,"7":1709,"8":658,"10":1951,"11":305,"12":2914,"13":980,"14":924,"15":1007,"16":992,"17":1306,"18":1200,"19":664,"20":1293,"21":827,"22":3207,"23":1624}

	pos := City{"Posadas", "9", mappos}
	printCity(pos, tr)

	//Rawson
	mapraw := map[string]int{
		"0":1127,"1":1321,"2":1845,"3":1999,"4":1116,"5":1548,"6":1201,"7":543,"8":1345,"9":1951,"11":1843,"12":975,"13":1647,"14":1827,"15":2120,"16":2054,"17":1340,"18":1113,"19":1349,"20":745,"21":1721,"22":1300,"23":327}

	raw := City{"Rawson", "10", mapraw}
	printCity(raw, tr)

	//Resistencia
	mapres := map[string]int{
		"0":794,"1":669,"2":13,"3":161,"4":833,"5":802,"6":1121,"7":1529,"8":498,"9":305,"10":1843,"12":2818,"13":678,"14":620,"15":729,"16":706,"17":1029,"18":961,"19":495,"20":1132,"21":523,"22":3130,"23":1526}

	res := City{"Resistencia", "11", mapres}
	printCity(res, tr)

	//Rio Gallegos
	maprg := map[string]int{
		"0":2082,"1":2281,"2":2819,"3":2974,"4":2064,"5":2473,"6":2081,"7":1410,"8":2320,"9":2914,"10":975,"11":2818,"13":2587,"14":2773,"15":3063,"16":2997,"17":2231,"18":2046,"19":2325,"20":1712,"21":2677,"22":359,"23":1294}

	rg := City{"Rio Gallegos", "12", maprg}
	printCity(rg, tr)

	//Catamarca
	mapcata := map[string]int{
		"0":979,"1":362,"2":691,"3":793,"4":1030,"5":149,"6":569,"7":1182,"8":622,"9":980,"10":1647,"11":678,"12":2587,"14":189,"15":477,"16":410,"17":430,"18":540,"19":602,"20":915,"21":166,"22":2931,"23":1391}

	cata := City{"Catamarca", "13", mapcata}
	printCity(cata, tr)

	//Tucumán
	maptuc := map[string]int{
		"0":1080,"1":517,"2":633,"3":703,"4":1132,"5":330,"6":756,"7":1370,"8":707,"9":924,"10":1827,"11":620,"12":2773,"13":189,"15":293,"16":228,"17":612,"18":727,"19":689,"20":1088,"21":141,"22":3116,"23":1562}

	tuc := City{"Tucumán", "14", maptuc}
	printCity(tuc, tr)

	//Jujuy
	mapju := map[string]int{
		"0":1334,"1":809,"2":742,"3":750,"4":1385,"5":600,"6":1023,"7":1658,"8":959,"9":1007,"10":2120,"11":729,"12":3063,"13":477,"14":293,"16":67,"17":874,"18":1017,"19":942,"20":1382,"21":414,"22":3408,"23":1855}

	ju := City{"Jujuy", "15", mapju}
	printCity(ju, tr)

	//Salta
	mapsal := map[string]int{
		"0":1282,"1":745,"2":719,"3":741,"4":1333,"5":533,"6":957,"7":1591,"8":906,"9":992,"10":2054,"11":706,"12":2997,"13":410,"14":228,"15":67,"17":808,"18":950,"19":889,"20":1316,"21":353,"22":3341,"23":1790}

	sal := City{"Salta", "16", mapsal}
	printCity(sal, tr)

	//San Juan
	mapsj := map[string]int{
		"0":1005,"1":412,"2":1039,"3":1169,"4":1053,"5":283,"6":152,"7":824,"8":757,"9":1306,"10":1340,"11":1029,"12":2231,"13":430,"14":612,"15":874,"16":808,"18":284,"19":740,"20":686,"21":583,"22":2585,"23":1141}

	sj := City{"San Juan", "17", mapsj}
	printCity(sj, tr)

	//San Luís
	mapsl := map[string]int{
		"0":749,"1":293,"2":969,"3":1117,"4":795,"5":435,"6":235,"7":643,"8":574,"9":1200,"10":1113,"11":961,"12":2046,"13":540,"14":727,"15":1017,"16":950,"17":284,"19":560,"20":412,"21":643,"22":2392,"23":882}

	sl := City{"San Luís", "18", mapsl}
	printCity(sl, tr)

	//Santa Fe
	mapsf := map[string]int{
		"0":393,"1":330,"2":498,"3":654,"4":444,"5":640,"6":775,"7":1049,"8":19,"9":664,"10":1349,"11":495,"12":2325,"13":602,"14":689,"15":942,"16":889,"17":740,"18":560,"20":641,"21":547,"22":2641,"23":1035}

	sf := City{"Santa Fe", "19", mapsf}
	printCity(sf, tr)

	//Santa Rosa
	mapsr := map[string]int{
		"0":579,"1":577,"2":1136,"3":1293,"4":602,"5":834,"6":586,"7":422,"8":642,"9":1293,"10":745,"11":1132,"12":1712,"13":915,"14":1088,"15":1382,"16":1316,"17":688,"18":412,"19":641,"21":977,"22":2044,"23":477}

	sr := City{"Santa Rosa", "20", mapsr}
	printCity(sr, tr)

	//Santiago Del Estero
	mapsdl := map[string]int{
		"0":939,"1":401,"2":535,"3":629,"4":991,"5":311,"6":713,"7":1286,"8":566,"9":827,"10":1721,"11":523,"12":2677,"13":166,"14":141,"15":414,"16":353,"17":583,"18":643,"19":547,"20":977,"22":3016,"23":1446}

	sdl := City{"Santiago Del Estero", "21", mapsdl}
	printCity(sdl, tr)

	//Ushuaia
	mapus := map[string]int{
		"0":2373,"1":2618,"2":3131,"3":3284,"4":2350,"5":2821,"6":2435,"7":1762,"8":2653,"9":3207,"10":1300,"11":3130,"12":359,"13":2931,"14":3116,"15":3408,"16":3341,"17":2585,"18":2392,"19":2641,"20":2044,"21":3016,"23":1605}

	us := City{"Ushuaia", "22", mapus}
	printCity(us, tr)

	//Viedma
	mapvie := map[string]int{
		"0":799,"1":1047,"2":1527,"3":1681,"4":789,"5":1311,"6":1019,"7":479,"8":1030,"9":1624,"10":327,"11":1526,"12":1294,"13":1391,"14":1562,"15":1855,"16":1790,"17":1141,"18":882,"19":1035,"20":477,"21":1446,"22":1605}

	vie := City{"Viedma", "23", mapvie}
	printCity(vie, tr)

	capitals := map[string]City{
		"0":caba,"1":cba,"2":corr,"3":form,"4":lp,"5":lr,"6":mend,"7":neu,"8":par,"9":pos,"10":raw,"11":res,"12":rg,"13":cata,"14":tuc,"15":ju,"16":sal,"17":sj,"18":sl,"19":sf,"20":sr,"21":sdl,"22":us,"23":vie}

	tr.Logger.Print("Choose a city by id and press enter")
	id := ""
	scanner := bufio.NewScanner(os.Stdin)
	for scanner.Scan() {
		id = scanner.Text()
		/*Verifica que exista id en capitals*/
		if _, ok := capitals[id]; ok {
			break
		}
	}
	City := capitals[id]

	path, distance := calculatePathAndDistance(id, capitals)
	if distance != nil && distance != "" {
		tr.Logger.Print("************ City when you start ************")
		printCity(City, tr)
		tr.Logger.Print("************ Path ***************************")
		tr.Logger.Print(path)
		tr.Logger.Print("************ Distances **********************")
		tr.Logger.Print("[" + distance + " KM]")
	} else {
		tr.Logger.Print("ERROR: Something happened :'(")
	}
}

func printCity(c City, tr *Trace) {
	tr.Logger.Print(c.IdCity + ") " + c.Name)
}
